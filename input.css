@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom styles for the two-panel layout and animations */
@layer components {
    .form-container {
        @apply absolute top-0 h-full transition-all duration-500 ease-in-out;
    }

    .sign-in-container {
        @apply left-0 w-1/2 z-20;
    }

    .sign-up-container {
        @apply left-0 w-1/2 opacity-0 z-10;
    }

    .overlay-container {
        @apply absolute top-0 left-1/2 w-1/2 h-full overflow-hidden z-30;
        /* MODIFIED: Added border-radius and box-shadow to the transition for a smooth shape change */
        transition: transform 0.6s ease-in-out, border-radius 0.6s ease-in-out, box-shadow 0.6s ease-in-out;
        /* NEW: Rounded corners on the left side by default, facing the sign-in form. Matches the parent's rounded-2xl. */
        border-radius: 100px 0 0 100px;
        /* NEW: Force hardware acceleration to fix potential rendering bugs with overflow:hidden and border-radius */
        transform: translateZ(0);
        /* NEW: Add a subtle shadow to the inner edge for depth */
        box-shadow: -10px 0 15px -5px rgba(0, 0, 0, 0.15);
    }

    .overlay {
        /* Use theme colors for the gradient */
        @apply bg-gradient-to-r from-sky-600 to-sky-500 text-white relative h-full w-[200%] transition-transform duration-500 ease-in-out;
        background-repeat: no-repeat;
        background-size: cover;
        background-position: 0 0;
        left: -100%;
        transform: translateX(0);
    }

    .overlay-panel {
        @apply absolute top-0 flex h-full w-1/2 flex-col items-center justify-center px-10 text-center;
        transform: translateX(0);
        transition: transform 0.6s ease-in-out;
    }

    .overlay-left {
        transform: translateX(-100%); /* Start fully hidden to the left */
        z-index: 1; /* Sit behind the right panel by default */
    }

    .overlay-right {
        @apply right-0;
        transform: translateX(0);
    }

    /* Animation for moving panels */
    #container.right-panel-active .sign-in-container {
        transform: translateX(100%);
    }

    #container.right-panel-active .overlay-container {
        transform: translateX(-100%) translateZ(0);
        /* NEW: Switch rounded corners to the right side when active, facing the sign-up form */
        border-radius: 0 100px 100px 0;
        /* NEW: Switch shadow to the other side */
        box-shadow: 10px 0 15px -5px rgba(0, 0, 0, 0.15);
    }

    #container.right-panel-active .overlay {
        transform: translateX(50%);
    }

    #container.right-panel-active .overlay-left {
        transform: translateX(0); /* Slide into view */
        z-index: 2; /* Come to the front */
    }

    #container.right-panel-active .overlay-right {
        transform: translateX(100%); /* Slide out of view */
    }

    #container.right-panel-active .sign-up-container {
        opacity: 1;
        z-index: 25; /* Bring to front, higher than sign-in's z-index of 20 */
    }

    @keyframes show {
        0%,
        49.99% {
            opacity: 0;
            z-index: 1;
        }

        50%,
        100% {
            opacity: 1;
            z-index: 5;
        }
    }
}